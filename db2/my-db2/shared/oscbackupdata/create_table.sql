
CREATE TABLE OSC.MAIN_PROD_CODE (
  ID	INTEGER	NOT NULL,
  CUST_TYPE	VARCHAR(1),
  CONT_CODE	VARCHAR(3),
  CURR_CODE	VARCHAR(3),
  CURR_DESC	VARCHAR(3),
  DEPT_TYPE	VARCHAR(2),
  DEPT_TYPE_DESC	VARCHAR(100),
  SUB_DEPT_TYPE	VARCHAR(10),
  SUB_DEPT_TYPE_DESC	VARCHAR(250),
  PROD_GROUP	VARCHAR(10),
  PROD_GROUP_DESC	VARCHAR(250),
  PROD_CODE	VARCHAR(3)	NOT NULL,
  PROD_DESC	VARCHAR(500),
  MINI_DEPT	VARCHAR(24),
  PROD_ON_SHELF	VARCHAR(1)	NOT NULL,
  FLAG_CUST_CONT	VARCHAR(1),
  SUB_PROD_CODE	VARCHAR(20),
  PROD_CODE_PROM	VARCHAR(3),
  ATM_FLAG	VARCHAR(1),
  CHEQUE_FLAG	VARCHAR(1),
  ANY_ID_FLAG	VARCHAR(1)	DEFAULT 'N',
  SME_FLAG	VARCHAR(1),
  RESERVE1	VARCHAR(50),
  RESERVE2	VARCHAR(50),
  RESERVE3	VARCHAR(50),
  RESERVE4	VARCHAR(50),
  RESERVE5	VARCHAR(50)
  ) 
  IN USERSPACE1
  ORGANIZE BY ROW;

ALTER TABLE OSC.MAIN_PROD_CODE
  DATA CAPTURE NONE
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

SET SCHEMA = OSC;

GRANT ALTER, DELETE, INDEX, INSERT, SELECT, REFERENCES, UPDATE ON TABLE OSC.MAIN_PROD_CODE TO USER DB2INST1 WITH GRANT OPTION;

GRANT CONTROL ON TABLE OSC.MAIN_PROD_CODE TO USER DB2INST1;

COMMIT;

  -----
  -- Step 1. Sync
CREATE TABLE OSC.OSC_SERVICE_ENDPOINT (
  ID	INTEGER	NOT NULL	GENERATED BY DEFAULT
    AS IDENTITY (START WITH 1, INCREMENT BY 1, CACHE 20,
       NO MINVALUE, NO MAXVALUE, CYCLE, NO ORDER),
  NAME	VARCHAR(100)	NOT NULL,
  URL_ENDPOINT	VARCHAR(250)	NOT NULL
  ) 
  IN USERSPACE1
  ORGANIZE BY ROW;

ALTER TABLE OSC.OSC_SERVICE_ENDPOINT
  DATA CAPTURE NONE
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

-- Step 2. Restoring constraints and indexes
ALTER TABLE OSC.OSC_SERVICE_ENDPOINT
  ADD PRIMARY KEY
    (ID)
    ENFORCED;

ALTER TABLE OSC.OSC_SERVICE_ENDPOINT
  ADD UNIQUE
    (NAME)
    ENFORCED;

COMMIT;

-- Step 3. Runstats

-- EFORM
-- Step 1. Sync
CREATE TABLE OSC.OSC_EFORM (
  FORM_ID	INTEGER	NOT NULL,
  CUST_TYPE	VARCHAR(1),
  ACCOUNT_TYPE	VARCHAR(2),
  FORM_TYPE	CHARACTER(2),
  FORM_NAME	VARCHAR(50),
  FORM_FILE_NAME	VARCHAR(50)
  ) 
  IN USERSPACE1
  ORGANIZE BY ROW;

ALTER TABLE OSC.OSC_EFORM
  DATA CAPTURE NONE
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

-- Step 2. Restoring constraints and indexes
ALTER TABLE OSC.OSC_EFORM
  ADD CONSTRAINT PK_EFORM PRIMARY KEY
    (FORM_ID)
    ENFORCED;

COMMIT;

-- Step 3. Runstats

--- EFORM MAPPING
-- Step 1. Sync
CREATE TABLE OSC.OSC_EFORM_MAPPING (
  GROUP_ID	INTEGER	NOT NULL,
  GROUP_NAME	VARCHAR(50),
  STD_FORM_ID	INTEGER,
  TC_FORM_ID	INTEGER,
  TC_ADD_FORM_ID	INTEGER,
  UPDATE_DATE	TIMESTAMP	DEFAULT ,
  CREATE_DATE	TIMESTAMP	DEFAULT ,
  SS_FORM_ID	INTEGER	DEFAULT 
  ) 
  IN USERSPACE1
  ORGANIZE BY ROW;

ALTER TABLE OSC.OSC_EFORM_MAPPING
  DATA CAPTURE NONE
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

-- Step 2. Restoring constraints and indexes
ALTER TABLE OSC.OSC_EFORM_MAPPING
  ADD CONSTRAINT PK_EFORM_MAPPING PRIMARY KEY
    (GROUP_ID)
    ENFORCED;

COMMIT;

-- Step 3. Runstats

--- EFORM GROUP
-- Step 1. Sync
CREATE TABLE OSC.OSC_EFORM_GROUP (
  CUST_TYPE	VARCHAR(1)	NOT NULL,
  PROD_CODE	VARCHAR(3)	NOT NULL,
  PROD_DESC	VARCHAR(500),
  GROUP_ID	INTEGER,
  UPDATE_DATE	TIMESTAMP,
  CREATE_DATE	TIMESTAMP
  ) 
  IN USERSPACE1
  ORGANIZE BY ROW;

ALTER TABLE OSC.OSC_EFORM_GROUP
  DATA CAPTURE NONE
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

-- Step 2. Restoring constraints and indexes
ALTER TABLE OSC.OSC_EFORM_GROUP
  ADD CONSTRAINT PK_EFORM_GROUP PRIMARY KEY
    (CUST_TYPE, PROD_CODE)
    ENFORCED;

COMMIT;

-- Step 3. Runstats


--- MAIN FEE
-- Step 1. Sync
CREATE TABLE OSC.MAIN_FEE (
  ID	INTEGER	NOT NULL,
  FEE_GROUP	VARCHAR(20),
  FEE_TYPE	VARCHAR(50),
  FEE_DESC	VARCHAR(250),
  FEE_VALUE	VARCHAR(22),
  FEE_GL_TYPE	VARCHAR(20),
  FEE_FIRST_ANNUAL	VARCHAR(22),
  FEE_TOTAL	VARCHAR(22),
  FEE_START_DATE	VARCHAR(10),
  FEE_END_DATE	VARCHAR(10),
  FEE_REMARK	VARCHAR(250),
  FEE_PROM	VARCHAR(3),
  FEE_DISCOUNT	VARCHAR(3)
  ) 
  IN USERSPACE1
  ORGANIZE BY ROW;

ALTER TABLE OSC.MAIN_FEE
  DATA CAPTURE NONE
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

COMMENT ON TABLE OSC.MAIN_FEE IS 'ตารางเก็บค่าธรรมเนียมบัตรเอทีเอม , เดบิต และเช็ค';

COMMENT ON OSC.MAIN_FEE ( 
	ID IS 'RUNNING NO.',
	FEE_GROUP IS 'รหัสของประเภทค่าธรรมเนียมเฉพาะค่าบัตร เช่น 001175',
	FEE_TYPE IS 'ประเภทของค่าธรรมเนียม เช่น CARD หรือ Cheque',
	FEE_DESC IS 'รายการค่าธรรมเนียมของแต่ละประเภท เช่น SME OD Limit',
	FEE_VALUE IS 'ค่าธรรมเนียมที่ต้องเรียกเก็บ เช่น ค่าบัตร ,ค่าอากรเช็ค',
	FEE_GL_TYPE IS 'หัวบัญชี GL / TYPE CODE  ที่ต้องส่งไปที่ HOST เช่น 1707200000  หรือ 26',
	FEE_FIRST_ANNUAL IS 'ค่าธรรมเนียมแรกเข้า/ค่าธรรมเนียมรายปี  เช่น 300 บาท (กรณีบัตร)
ค่าเช็คเป็นรายฉบับตามประเภทของเช็ค',
	FEE_TOTAL IS 'ค่าธรรมเนียม(ค่าบัตร/ค่าอากร) รวมกับ ค่าธรรมเนียมรายปี(ค่าบัตร) หรือค่าเช็คในราคาต่อเล่มตามประเภทของเช็ค',
	FEE_START_DATE IS 'วันที่เริ่มคิดค่าธรรมเนียม เช่น 01/08/2010',
	FEE_END_DATE IS 'วันสิ้นสุดการคิดค่าธรรมเนียม เชื่น 31/08/2010',
	FEE_REMARK IS 'รายละเอียดรายการค่าธรรมเนียม เช่น ค่าธรรมเนียมทำบัตร ATM',
	FEE_PROM IS 'จัดลำดับของรายการเพื่อจัดเรียงเป็น promotion , เพื่อให้ค้นหาได้ง่าย',
	FEE_DISCOUNT IS '% ที่ทำการให้ส่วนลด' );

SET SCHEMA = OSC;

GRANT ALTER, DELETE, INDEX, INSERT, SELECT, REFERENCES, UPDATE ON TABLE OSC.MAIN_FEE TO USER DB2INST1 WITH GRANT OPTION;

GRANT CONTROL ON TABLE OSC.MAIN_FEE TO USER DB2INST1;

-- Step 2. Restoring constraints and indexes
ALTER TABLE OSC.MAIN_FEE
  ADD CONSTRAINT P_KEY_1 PRIMARY KEY
    (ID)
    ENFORCED;

COMMIT;

-- Step 3. Runstats

